<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SnackUpClient.PaginaLogin"
             Title="PaginaLogin"
             Padding="0,10,0,0">
    <ScrollView HorizontalScrollBarVisibility="Never" 
        VerticalScrollBarVisibility="Never">
        <Grid>
            <!-- Immagine sotto il titolo -->

            <VerticalStackLayout Padding="20" Spacing="15">

                <!-- Intestazione -->
                <Label Text="Accedi su Snack Up! "
               FontSize="28"
               FontFamily="Roboto-Black"
               TextColor="#FF7B21"
               HorizontalOptions="Start"
               Margin="10, 10,50,0"/>

                <Label Text="Inserisci i tuoi dati:"
           FontSize="16"
              
           FontFamily="Roboto-Bold"
            Margin="10,10,0,10"
           VerticalOptions="Start"
           HorizontalOptions="Start" />

                <!-- Form di login -->
                <VerticalStackLayout Padding="0,0,0,0" Spacing="15">

                    <!-- Email -->
                    <Frame CornerRadius="15"
           BorderColor="{Binding EmailFrameColor}"
           Padding="3"
           >
                        <Entry Placeholder="Email"
               
               Keyboard="Email"
               FontSize="16"
               Text="{Binding Email}" />
                    </Frame>
                    <Label Text="*Questo campo è obbligatorio"
           TextColor="#FF7B21"
           FontSize="12"
           IsVisible="{Binding IsEmailErrorVisible}"
           HorizontalOptions="Start"
           Margin="10,-15,0,0" />

                    <!-- Password -->
                    <Frame CornerRadius="15"
           BorderColor="{Binding PasswordFrameColor}"
           Padding="3"
           >
                        <Grid>
                            <!-- Campo Password -->
                            <Entry Placeholder="Password"
                   IsPassword="{Binding IsPasswordHidden}"
                   
                   FontSize="16"
                   Text="{Binding Password}" />

                            <!-- Icona Occhio -->
                            <Image Source="{Binding EyeIcon}"
                   WidthRequest="20"
                   HeightRequest="20"
                   VerticalOptions="Center"
                   HorizontalOptions="End"
                   Margin="0,0,10,0">
                                <Image.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding TogglePasswordCommand}" />
                                </Image.GestureRecognizers>
                            </Image>
                        </Grid>
                    </Frame>
                    <Label Text="*Questo campo è obbligatorio"
           TextColor="#FF7B21"
           FontSize="12"
           IsVisible="{Binding IsPasswordErrorVisible}"
           HorizontalOptions="Start"
           Margin="10,-15,0,0" />

                </VerticalStackLayout>

                <!-- Link per password dimenticata -->
                <Label Text="Password Dimenticata?"
               FontSize="14"
               HorizontalTextAlignment="Center"
               HorizontalOptions="Center"
               Margin="0,10,0,10">
                    <Label.GestureRecognizers>
                        <!--TapGestureRecognizer Tapped="OnForgotPasswordTapped" -->
                    </Label.GestureRecognizers>
                </Label>


                <!-- Bottone Sign In -->
                <Button Text="Accedi"
                BorderColor="Transparent"
                BackgroundColor="#FF7B21"
                TextColor="White"
                FontFamily="Roboto-Medium"
                FontSize="16"
                CornerRadius="35"
                HeightRequest="50"
                Command="{Binding ValidateCommand}"/>

                <!-- Bottone Sign In con Google -->
                <Button Text="Accedi con Google"
        BackgroundColor="White"
        TextColor="#333"
        FontFamily="Roboto-Medium"
        FontSize="16"
        CornerRadius="35"
        BorderColor="#E0E0E0"
        BorderWidth="1"
        HeightRequest="50"
        Margin="0,10,0,0"
        ImageSource= "{Binding GoogleIcon}" >
                </Button>

                <Label HorizontalTextAlignment="Center"
            HorizontalOptions="Center"
            FontSize="14"
            Margin="0,15,0,0">
                    <Label.FormattedText>
                        <FormattedString>
                            <!-- Testo statico -->
                            <Span Text="Non ti sei ancora registrato? " />
                            <!-- Testo cliccabile -->
                            <Span Text="Clicca qui"
               TextDecorations="Underline"
               TextColor="#FF7B21">
                                <Span.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnNavigateToRegister" />
                                </Span.GestureRecognizers>
                            </Span>
                        </FormattedString>
                    </Label.FormattedText>
                </Label>

                <!-- Divider -->
                <Label 
               HorizontalOptions="Center"
               Margin="0,10,0,0" />


                <!-- Social Media -->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="25">
                    <Image Source="instagram_icon.svg" WidthRequest="30" HeightRequest="26" BackgroundColor="Transparent" />
                    <Image Source="facebook_icon.svg" WidthRequest="30" HeightRequest="25" BackgroundColor="Transparent" />
                    <Image Source="linkedin_icon.svg" WidthRequest="30" HeightRequest="26" BackgroundColor="Transparent" />
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </Grid>
    </ScrollView>
</ContentPage>