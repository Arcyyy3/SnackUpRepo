<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SnackUpClient.OrderCompletedPage"
             xmlns:skia="clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI"
             Title="OrderCompletedPage">
    <Grid RowDefinitions="*,Auto,Auto">
        <StackLayout HorizontalOptions="Center" Background="Transparent"
                 VerticalOptions="Center" Grid.Row="0">
            <!-- SkiaSharp Animation -->
            <skia:SKLottieView
            Source="confirmed.json"
            HeightRequest="180"
            RepeatCount="0"
            RepeatMode="Restart"
                       Background="Transparent"
            HorizontalOptions="Center"
            VerticalOptions="Center"
             />
            <Label x:Name="SnackUpLabel"
               Text="SnackUp ti augura una buona pausa!"
               FontFamily="Roboto-Bold"
               Padding="30"
               FontSize="20"
               HorizontalOptions="Center"
               HorizontalTextAlignment="Center"
               VerticalTextAlignment="Center"
               VerticalOptions="Center"/>
            
        </StackLayout>

        <Label x:Name="ProblemsLabel"
               HorizontalTextAlignment="Center"
               HorizontalOptions="Center"
               FontSize="14"
               Grid.Row="1"
               FontFamily="Roboto"
               Margin="10">
            <Label.FormattedText>
                <FormattedString>
                    <!-- Testo statico -->
                    <Span Text="Problemi con l'ordine? " />
                    <!-- Testo cliccabile -->
                    <Span Text="Contattaci"
               TextDecorations="Underline"
               TextColor="#FF7B21">
                        <Span.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnNavigateToSupport" />
                        </Span.GestureRecognizers>
                    </Span>
                </FormattedString>
            </Label.FormattedText>
        </Label>

        <Border x:Name="AnimatedBorder"
            Grid.Row="2"
            BackgroundColor="White"
            StrokeThickness="0"
            StrokeShape="RoundRectangle 0"
            ZIndex="10"
            IsVisible="False"
            Padding="0">
            <Border.Shadow>
                <Shadow Brush="Black" 
            Opacity="0.2" 
            Radius="30" 
            Offset="0,5" />
            </Border.Shadow>
            <StackLayout>

                <Button
            Margin="20"
            Text="Torna in Home"
            BorderColor="#FF7B21"
            BackgroundColor="#FF7B21"
            TextColor="White"
            BorderWidth="1.5"
            FontFamily="Roboto-Medium"
            FontSize="15"
            CornerRadius="35"
            HeightRequest="50"
            Clicked="OnBackToHomePage" />

            </StackLayout>
        </Border>
    </Grid>
</ContentPage>