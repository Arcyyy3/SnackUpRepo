<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SnackUpClient.ForgotPasswordPage"
             Title="ForgotPasswordPage">
    <ScrollView HorizontalScrollBarVisibility="Never" 
                VerticalScrollBarVisibility="Never">
        <Grid>
            <VerticalStackLayout Padding="30,00,30,30" Spacing="15">

                <!-- Intestazione -->
                <Label Text="Password Dimenticata"
                       FontSize="28"
                       FontFamily="Roboto-Black"
                       TextColor="#FF7B21"
                       HorizontalOptions="Start"
                       Margin="10,40,10,0" />

                <Label Text="Inserisci il tuo numero di telefono:"
                       FontSize="16"
                       FontFamily="Roboto-Bold"
                       Margin="10,10,0,10"
                       VerticalOptions="Start"
                       HorizontalOptions="Start" />

                <!-- Form di input -->
                <VerticalStackLayout Padding="0,0,0,0" Spacing="15">

                    <!-- Numero di telefono -->
                    <Frame CornerRadius="15"
                           BorderColor="Transparent"
                           Padding="3">
                        <Entry Placeholder="Numero di telefono"
                               Keyboard="Telephone"
                               FontSize="16"
                               Text="{Binding PhoneNumber}" />
                    </Frame>

                    <!-- Messaggio di errore per il numero di telefono -->
                    <Label Text="{Binding ErrorMessage}"
                           TextColor="#FF7B21"
                           FontSize="12"
                           IsVisible="{Binding IsErrorVisible}"
                           HorizontalOptions="Start"
                           Margin="10,-15,0,0" />

                </VerticalStackLayout>

                <!-- Bottone di invio -->
                <Button Text="{Binding ButtonText}"
                        Margin="0,10,0,0"
                        BackgroundColor="{Binding ButtonColor}"
                        BorderColor="Transparent"
                        TextColor="White"
                        FontFamily="Roboto-Medium"
                        FontSize="16"
                        CornerRadius="50"
                        HeightRequest="50"
                        IsEnabled="{Binding IsButtonEnabled}"
                        Command="{Binding ValidateCommand}" />

                <!-- Frame per l'inserimento del codice -->
                <Frame BorderColor="Transparent"
                       Padding="0"
                       IsVisible="{Binding IsFrameVisible}"
                       HorizontalOptions="Fill"
                       VerticalOptions="Start"
                       Margin="0,10,0,0">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Inserisci il codice a 6 cifre ricevuto:"
                               FontSize="16"
                               FontFamily="Roboto-Bold"
                               TextColor="Black"
                               HorizontalOptions="Start" />
                        <Entry Placeholder="Codice"
                               Keyboard="Numeric"
                               FontSize="16"
                               Text="{Binding VerificationCode}"
                               MaxLength="6" />
                        <!-- Messaggio di errore per il codice -->
                        <Label Text="{Binding CodeErrorMessage}"
                               TextColor="#FF7B21"
                               FontSize="12"
                               IsVisible="{Binding IsCodeErrorVisible}"
                               HorizontalOptions="Start"
                               Margin="10,-15,0,0" />
                        <!-- Bottone per confermare il codice -->
                        <Button Text="Conferma codice"
                                BackgroundColor="#FF7B21"
                                Margin="0,10,0,0"
                                BorderColor="Transparent"
                                TextColor="White"
                                FontFamily="Roboto-Medium"
                                FontSize="16"
                                CornerRadius="50"
                                HeightRequest="50"
                                Command="{Binding ConfirmCodeCommand}" />
                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </Grid>
    </ScrollView>
</ContentPage>
